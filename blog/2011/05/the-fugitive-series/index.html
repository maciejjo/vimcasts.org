<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>The Fugitive Series - a retrospective</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/vimcasts.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="blog blog_2011 blog_2011_05 blog_2011_05_the-fugitive-series blog_2011_05_the-fugitive-series_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name"></li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right search-form-wrapper">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li><a href="/episodes">Screencasts</a></li><li class="open"><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>
            </ul>
          </section>
        </nav>

      </div>

      <nav class="compact-nav tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="right tab-bar-section">
          
            <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


          
        </section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li><a href="/episodes">Screencasts</a></li><li class="open"><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>

          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

        
  <div class="row">
    <div class="small-12 columns">
      
    </div>
  </div>

  <section class="article">
    <header>
      <div class="title-row">
        <h2 class="title">
          The Fugitive Series - a retrospective
        </h2>
      </div>

      <div class="pubdate-row">
        <div class="article-categories">
  
  
    Tagged with:
    <a href="/categories/plugins">plugins</a>, <a href="/categories/git">git</a>
  
</div>


        <time class="pubdate" pubdate="pubdate" datetime="2011-05-18">
          <div class="hide-for-medium-up">May&nbsp;18, '11</div><div class="show-for-medium-up">May 18, 2011</div>
        </time>
      </div>
    </header>

    <div class="content-row">
      <div id="article_body" data-swiftype-index="true">
        <p><em>Fugitive.vim: a git wrapper so awesome, it should be illegal.</em> That&rsquo;s how Tim Pope describes his git plugin for Vim. I&rsquo;ve had <a href="http://www.vim.org/scripts/script.php?script_id=2975">fugitive.vim</a> installed since it was released, but until recently I never took the time to figure out what was <em>so awesome</em> that could make it illegal.</p>



<h3>Who needs a git wrapper?</h3>

<p>Since I started using git a few years ago I&rsquo;ve been happy to use the command line client. There&rsquo;s always a terminal window open, and it never felt too arduous to switch to it to run a couple of git commands. This is fine for most of the commands that I run day to day, but occasionally I would want to do something that felt as though it belonged inside of my editor, rather than on the command line. For example, suppose I wanted to find out which idiot was responsible for a particular line of code. I just want to think the thought: &lsquo;Who do I blame?&rsquo;, and to see their name right next to it.</p>

<p>I can get this information using the command line client, but it requires a bit of leg work. First, I have to recall the name and path of the file that I am working on, so that I can pass it as an argument to the <code>git blame</code> command. Then I need to navigate the output to find the line that I was looking at. The information is there, but it&rsquo;s in a plain text format so I don&rsquo;t get the syntax highlighting that I&rsquo;m used to.</p>

<p>So <code>git blame</code> always struck me as in ideal candidate for integrating with the editor. Sure enough, fugitive provides a <code>Gblame</code> command, which does exactly what I want. I don&rsquo;t have to recall the filepath of the current file, because the editor knows it. I don&rsquo;t have to navigate to the current line, because I&rsquo;m already there. I just have to run the <code>Gblame</code> command, and bang! I get the author&rsquo;s name right next to the line of code. Then I have to rap my own knuckles when git tells me I have only myself to blame.</p>

<h3>Digging deeper</h3>

<p>I rarely need to use <code>Gblame</code>, and the command line client was always good enough for most of the tasks that I perform daily with git. So for too long, I had fugitive installed, but didn&rsquo;t use it. I always had a nagging feeling that I was missing out. After all, Tim Pope says:</p>

<blockquote>
<p>I&rsquo;m not going to lie to you; fugitive.vim may very well be the best Git wrapper of all time.</p>
</blockquote>

<p>I decided that it would be worth digging deeper and sharing what I learned here on Vimcasts. Before long, I realized that it would take at least five episodes to do the plugin justice. There is so much good stuff in there.</p>

<p>I had to level up on git in order to understand some of the cleverness that makes fugitive work. Lets face it though, there&rsquo;s always more to learn about git. As I got a feel for it, I started having crazy ideas: <em>what if fugitive could do X?</em> Then I&rsquo;d try it out, and realize that fugitive <em>already does</em> X. There were <a href="http://twitter.com/MikeGrace/status/11389314823">girly squeals of joy</a>.</p>

<p>I couldn&rsquo;t think of any other git commands that were so well suited to running from inside the editor as the <code>Gblame</code> example I gave above. Turns out that was just down to a lack of imagination on my part. Fugitive.vim is as bad as its author claims. I think it already is illegal in some states.</p>

<p>I wasn&rsquo;t able to cover everything, but I picked what I think are the choicest cuts. Here follow some of the highlights from the series.</p>

<h3>1) <a href="/e/31">A complement to command line git</a></h3>

<p>Commands such as <code>Gremove</code> and <code>Gmove</code> map directly to <code>git rm</code> and <code>git mv</code>. I wasn&rsquo;t sold on these at first, because I didn&rsquo;t mind using the git commands. But things can get a little messy if you run these commands in the shell when the files that you act upon are already open in your text editor. For example, if you run:</p>
<pre class="highlight plaintext">git mv original/path.txt destination/path.txt
</pre>

<p>When you switch back to your editor, you might end up with a window open trying to edit the <code>original/path.txt</code> file, which no longer exists. Using the <code>Gmove</code> command keeps things tidy, because it simultaneously handles the git index and Vim buffers. Learn more in <a href="/e/31">part one</a>.</p>

<h3>2) <a href="/e/32">Working with the git index</a></h3>

<p>I&rsquo;ve always had a bit of a fuzzy idea of what the git index is. Perhaps that&rsquo;s because the <code>.git/index</code> file uses a binary format, making it look like impenetrable gibberish if you attempt to read it in a text editor. But this is where fugitive gets really clever. Using a handful of esoteric git plumbing commands, fugitive makes it possible to view the indexed version of any file tracked by the repository. Not only can you read the indexed version of a file, but you can run <code>Gdiff</code> to compare it with the working copy. Vim&rsquo;s diff mode makes it possible to interactively stage hunks of changes, like when you run the <code>git diff --patch</code> command in the shell. Learn more in <a href="/e/32">part two</a>.</p>

<h3>3) <a href="/e/33">Resolving merge conflicts with vimdiff</a></h3>

<p>For <a href="/e/33">part three</a> we stay on the theme of Vim&rsquo;s diff mode. This time, looking at how to manage a 3-way diff to resolve merge conflicts. I usually dread having to deal with git merge conflicts, but having gained a better understanding of my tools, I&rsquo;m now <a href="http://twitter.com/grahamsavage/status/66420233275064321">looking forward to my next merge conflict</a>!</p>

<h3>4) <a href="/e/34">Browsing the git object database</a></h3>

<p>I&rsquo;ve often thought that <a href="http://github.com">github</a> provided the superlative interface for browsing a git repository. They have a URL for every git object, including trees, blobs, tags and commits.</p>

<p>Well, fugitive makes it possible to read any git object into a buffer, by running <code>:Gedit SHA</code>. But it doesn&rsquo;t stop there. In a commit buffer, you can press <code>&lt;Enter&gt;</code> with your cursor on any other SHA code, and it will automatically open that object in a buffer. These buffers are as interactive as a webpage, but since we&rsquo;re in Vim, we never have to reach for the mouse.</p>

<p>Even though fugitive provides an excellent interface for browsing the git object database, you might still want to share a link to the object that you have open in Vim. The <code>Gbrowse</code> command will generate the github URL for whatever object is currently active in Vim. So fugitive gives you the best of both worlds: you can browse the repository mouselessly and offline from the comfort of your editor, and easily switch to a publicly accessible github URL when the need arises. Learn more in <a href="/e/34">part four</a>.</p>

<h3>5) <a href="/e/35">Exploring the history of a git repository</a></h3>

<p>The <code>Glog</code> command is a surprising one. The default <code>Glog</code> behaviour is quite different from the <code>git log</code> command that it wraps. Whereas <code>git log</code> shows a list of commit messages for the entire project, <code>Glog</code> loads all previous revisions of the current file into the quickfix list. This makes it extremely easy to review the history of a file. Learn more in <a href="/e/35">part five</a>.</p>

<h3>Thanks to my sponsors</h3>

<p>I&rsquo;d like to say a big thanks to <a href="http://hashrocket.com/people/work-at-hashrocket">HashRocket</a> and <a href="http://engineyard.com">EngineYard</a> for their sponsorship. I couldn&rsquo;t have completed this series without their support.</p>

<p>Finally, I&rsquo;d like to thank Tim Pope for patiently answering my questions, reviewing drafts of each episode, and of course, for creating this awesome plugin in the first place. The Vim landscape would be a much more barren place without your plugins. Thanks Tim.</p>

      </div>
      <dl class="accordion" data-accordion>
        <dd>
          <a href="#comments" class="show-comments">Comments<span class="disclosure"></span></a>
          <div id="comments" class="content">
            <div id="disqus_thread"></div>

          </div>
        </dd>
      </dl>
    </div>

  </section>

  
<div class="share-container">
  <p class="call-to-action">Like this article? Spread the word!</p>

  <!-- buttons start here -->
  <div class="buttons">
    <ul class="rrssb-buttons">

      <li class="twitter">
        <a href="http://twitter.com/home?status=The%20Fugitive%20Series%20-%20a%20retrospective http://proof.vimcasts.org/blog/2011/05/the-fugitive-series/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
              c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
              C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
              C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
              c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
              C26.275,7.229,25.39,8.196,24.253,8.756z"/>
            </svg>
          </span>
          <span class="text">twitter</span>
        </a>
      </li>

      <li class="googleplus">
        <a href="https://plus.google.com/share?url=The%20Fugitive%20Series%20-%20a%20retrospective http://proof.vimcasts.org/blog/2011/05/the-fugitive-series/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <g>
              <g>
              <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663
              c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027
              C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068
              c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562
              c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41
              c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511
              c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478
              c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492
              c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479
              c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"/>
              <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004
              23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89      "/>
              </g>
              </g>
            </svg>
          </span>
          <span class="text">google+</span>
        </a>
      </li>

      <li class="facebook">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://proof.vimcasts.org/blog/2011/05/the-fugitive-series/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
              c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
              c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
            </svg>
          </span>
          <span class="text">facebook</span>
        </a>
      </li>

      <li class="email">
        <a href="mailto:?subject=The%20Fugitive%20Series%20-%20a%20retrospective&amp;body=http%3A%2F%2Fproof.vimcasts.org%2Fblog%2F2011%2F05%2Fthe-fugitive-series%2F">
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g><path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"/></g></svg>
          </span>
          <span class="text">email</span>
        </a>
      </li>

    </ul>
  </div>
</div>


  <div class="row">
    <div class="small-12 columns">
      <div>
  <hr/>
  <h3>Related content</h3>
  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">

    
    

    
      <li>
        <h4><a href="/training">Vim Training</a></h4>
        <p>Boost your productivity with a <a href='/training'>Vim training class</a>. Join a public class, or <a href='/training/private'>book a private session</a> for your team.</p>
      </li>
    
      <li>
        <h4><a href="/episodes/fugitive-vim-exploring-the-history-of-a-git-repository/">Fugitive.vim - exploring the history of a git repository</a></h4>
        <p>Git provides tools for searching the contents of files, commit messages, and even whether text was added or removed by a commit. In this episode, we&rsquo;ll see how fugitive&rsquo;s <code>Ggrep</code> and <code>Glog</code> commands wrap this functionality up so that we can search the contents and history of a git repo from right inside of Vim.</p>

<p><em>This is the last of our five part series on fugitive.vim.</em></p>


      </li>
    
      <li>
        <h4><a href="/blog/2012/08/on-sharpening-the-saw/">On sharpening the saw</a></h4>
        <p>Vim users sit somewhere on a spectrum, based on how much they customize their editor. At one end of the spectrum, there are those who use Vim with no customizations whatsoever. At the other end are those who customize Vim to the point where it barely resembles the stock install.</p>


      </li>
    
      <li>
        <h4><a href="/categories">Find by category</a></h4>
        <p>Vimcasts contains 65 free screencasts and 41 articles. <a href='/categories'>Browse all content by category</a>.</p>
      </li>
    
      <li>
        <h4><a href="/publications">Publications</a></h4>
        <p>Make yourself a faster and more efficient developer with the help of <a href='/publications'>these publications</a>.</p>
      </li>
    
      <li>
        <h4><a href="/blog/2013/03/combining-vimgrep-with-git-ls-files/">Combining :vimgrep with git ls-files</a></h4>
        <p>The <code>vimgrep</code> command uses Vim&rsquo;s native regular expressions to search the contents of multiple files. There are several ways that we can specify the list of files to look inside, including <code>*</code> and <code>**</code> wildcards. It would be handy if we could instruct <code>vimgrep</code> to look inside all of the files in the current project, excluding those listed in the <code>.gitignore</code> file. That&rsquo;s where the <a href="https://www.kernel.org/pub/software/scm/git/docs/git-ls-files.html"><code>git ls-files</code></a> command comes in.</p>


      </li>
    

  </ul>
</div>

      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>

    </div>
  </div>



      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  

  </body>
</html>

