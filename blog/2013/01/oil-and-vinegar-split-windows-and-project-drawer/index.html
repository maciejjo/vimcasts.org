<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Oil and vinegar - split windows and the project drawer</title>

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="blog blog_2013 blog_2013_01 blog_2013_01_oil-and-vinegar-split-windows-and-project-drawer blog_2013_01_oil-and-vinegar-split-windows-and-project-drawer_index">

  <div class="off-canvas-wrap">
    <div class="inner-wrap">
      <nav class="top-bar show-for-large-up" data-topbar>
        <ul class="title-area">
          <li class="name">
            <h1><a href="/">Vimcasts</a></h1>
          </li>
          <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
        </ul>

        <section class="top-bar-section">
          <!-- Right Nav Section -->
          <ul class="right">
            <li class="has-form">
            <div class="row collapse">
              <div class="large-8 small-9 columns">
                <input type="text" placeholder="Explore archives">
              </div>
              <div class="large-4 small-3 columns">
                <a href="#" class="alert button expand">Search</a>
              </div>
            </div>
            </li>
          </ul>

          <!-- Left Nav Section -->
          <ul class="left">
          <li><a href="/categories">Episodes</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/training">Training</a></li>
          <li><a href="/publications">Publications</a></li>
          </ul>
        </section>
      </nav>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li><a href="/">Home</a></li>
          <li><a href="/episodes">Episodes</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/training">Training</a></li>
          <li><a href="/publications">Publications</a></li>
          <li>
          <form>
            <label text="search">Search: <input type="search" disabled/></label>
          </form>
          </li>
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            <h4 class="show-for-small-only text-right">
              Free Vim screencasts<br/>
              <small>with Drew Neil</small>
            </h4>
            <h4 class="show-for-medium-up text-right">
              Free Vim screencasts<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical Vim</a></small>
            </h4>
          </div>
        </div>

        <p>Do you avoid using Vim's split windows because they're confusing? That might be a problem of your own devising. If you've bolted a project drawer onto Vim, then you've added unnecessary complexity to Vim's otherwise minimal interface. Split windows and the project drawer go together like oil and vinegar. I don't mean to say that you can combine them to create a delicious salad dressing. I mean that they don't mix well!</p>

<p></p>

<r:snippet name="announcement" />

<h3 id="the-project-drawer-youve-already-met">The project drawer (you've already met)</h3>

<p>Picture your typical GUI based text editing environment. The standard interface usually features a file explorer in a sidebar. It's sometimes called the <em>project drawer</em>, because it can slide out of view when it's not being used. I'm sure you know what I'm talking about, but here's a screenshot just in case:</p>

<p><img alt="Screenshot of TextMate's project drawer" src="/images/blog/textmate-project-drawer.png" /></p>

<p>I'm not a big fan of file explorers. I usually find it quicker to open files using a fuzzy-file matcher plugin such as <a href="https://github.com/wincent/Command-T">cmd-t</a> or <a href="https://github.com/kien/ctrlp.vim">ctrl-p</a> for Vim. But I wouldn't write off the file explorer entirely. It still has its place, particularly during the orientation phase with a new codebase.</p>

<h3 id="the-problem-with-project-drawers">The problem with project drawers</h3>

<p>Picture this scenario: we've got 3 split windows visible at once, and we want to open another file.</p>

<p><img alt="Screenshot of 3 split windows with a bolt-on project drawer" src="/images/blog/explorer-drawer.png" /></p>

<p>If we select a file in the project drawer, which split window will it appear in?</p>

<p>It's difficult to tell just by looking. The sensible default would be for the new file to open in whichever split window was last active. The most recently touched split window has the <em>focus</em>, so that's where the new file should open when selected in the project drawer.</p>

<p>It works, but this solution lacks clarity. It's easy to imagine a scenario where the user mistakenly thinks that window C has the focus, when in fact the focus belongs to window A. Think of the confusion that would be caused when a file selected in the project drawer replaced the contents of window A instead of appearing in window C.</p>

<p>To recover from this mistake in Vim, you could activate window A and switch to the alternate file by pressing <code>&lt;C-^&gt;</code> (<a href="http://vimdoc.sourceforge.net/htmldoc/editing.html#ctrl-^">:help ctrl-^</a>). Then activate window C, switch back to the project drawer and select the target file. That's a lot of clean up for a simple mistake. Beware of <a href="http://en.wikipedia.org/wiki/Gumption_trap">gumption traps</a> such as this!</p>

<h3 id="an-alternative-to-the-project-drawer-the-split-explorer">An alternative to the project drawer: the split explorer</h3>

<p>Here's the same scenario with the project drawer removed:</p>

<p><img alt="Illustration of 3 split windows, with buffers a, b, and c" src="/images/blog/explorer-split-1.png" /></p>

<p>In this illustration, I've shaded window C to indicate that it has the focus. Suppose that we could invoke a command that would draw a file explorer <em>inside of split window C</em>. It might look something like this:</p>

<p><img alt="Illustration of 3 split windows with a file explorer in place of c" src="/images/blog/explorer-split-2.png" /></p>

<p>When we select an item in this file explorer, it would open up the specified file in the same split window:</p>

<p><img alt="Illustration of 3 split windows, with buffers a, b, and d" src="/images/blog/explorer-split-3.png" /></p>

<p>Think of it like this: each split window can either act as a view onto the contents of a file, or it can act as a view onto the contents of a directory. You might even say that each window has a 'file viewing mode' (the usual view) and a 'directory viewing mode' (the file explorer). I find that it helps to imagine a <a href="http://desandro.github.com/3dtransforms/examples/card-02-slide-flip.html">card-flip transition</a> as the window shifts between file and directory viewing modes.</p>

<p>This model has a distinct advantage over the project drawer: it's clear which of the split windows will receive the file selected in the explorer. If you were to accidentally activate the file explorer whilst focussed on the wrong window then you would know (and be able to revert) immediately. That leads to fewer errors and less confusion.</p>

<p>More importantly: it makes it really easy to use Vim's split windows. And that's a good thing, because Vim's split window functionality is <em>awesome</em>!</p>

<h3 id="vims-split-windows-are-awesome">Vim's split windows are awesome</h3>

<p>We can easily divide Vim's interface into split windows. The <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#CTRL-W_CTRL-S"><code>&lt;C-w&gt;s</code></a> command splits the current window horizontally, while the <a href="http://vimdoc.sourceforge.net/htmldoc/windows.html#CTRL-W_CTRL-V"><code>&lt;C-w&gt;v</code></a> command divides the current window vertically. This figure illustrates a few of the possible results. In each case, the shaded rectangle represents the active window:</p>

<p><img alt="illustration showing cell division" src="/images/blog/cell-division.png" /></p>

<p>When dividing a window in this manner Vim reuses the active buffer in the new window, so you end up with two views onto the same file. I like to think of the process as resembling <a href="http://en.wikipedia.org/wiki/Cell_division">cell division</a>!</p>

<p>Vim's split-window feature is really flexible and easy to use. If you're not making full use of it, you're missing out! Vimcasts Episode 7 demonstrates <a href="http://vimcasts.org/episodes/working-with-windows/">how to use Vim's split windows</a>.</p>

<h3 id="nerdtree-is-a-project-drawer-netrw-is-a-split-explorer">NerdTree is a project drawer, netrw is a split explorer</h3>

<p><a href="http://www.vim.org/scripts/script.php?script_id=1658">NerdTree</a> is one of the most popular plugins for Vim. It implements a file explorer using a model that resembles the project drawer. There's a less well-known file explorer plugin for Vim called <a href="http://vimcasts.org/e/15">netrw</a>. It's not quite as polished as NerdTree, but it gets one thing right: it uses the split explorer model.</p>

<p>If you're a NerdTree user and curious to try this approach, you've got a couple of options. You could add this to your vimrc, which modifies NerdTree to make it use the split explorer model:</p>

<pre><code>let NERDTreeHijackNetrw=1
</code></pre>

<p>Or you could uninstall NerdTree and use the netrw plugin instead. The netrw plugin is usually included in the Vim distribution by default, so you don't need to do anything to install it. For more details, refer to episode 15 of Vimcasts: <a href="http://vimcasts.org/e/15">The File Explorer</a></p>

<h3 id="like-oil-and-vinegar-the-project-drawer-and-split-windows-dont-mix">Like oil and vinegar, the project drawer and split windows don't mix</h3>

<p>The project drawer works well in an interface where you can only view one file at a time, but the concept does not translate to the split-window interface. When working with multiple files in split windows, the split explorer is a better fit.</p>

<p>The illustrations in this blog post are adapted from <a href="http://pragprog.com/book/dnvim/practical-vim">Practical Vim</a>. For more discussion, please refer to <em>Tip 43 Explore the file system with netrw</em> and <em>Tip 39: Divide your workspace into split windows</em>.</p>


      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>


    <script src="/javascripts/all.js" type="text/javascript"></script>
  </body>
</html>
