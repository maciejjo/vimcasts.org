{
    "episodes": [
        <% blog(:episodes).articles.reverse.each_with_index do |page, i| %>{
            <% episode = Episode.new(page) %>
            "title": "<%= page.title %>",
            "episode_number": "<%= episode.number %>",
            "published_at": "<%= page.date.httpdate %>",
            "url": "http://vimcasts.org<%= page.url %>",
            "short_url": "http://vimcasts.org/e/<%= episode.number %>",
            "poster": "<%= episode.poster_url %>",
            "abstract": "<%= js_escape_html(page.summary) %>",
            "ogg": {
                "url": "<%= episode.ogg.url %>",
                "bytes": "<%= episode.ogg.size %>",
                "seconds": "<%= episode.ogg.duration %>",
                "contentType": "video/ogg"
            },
            "quicktime": {
                "url": "<%= episode.quicktime.url %>",
                "bytes": "<%= episode.quicktime.size %>",
                "seconds": "<%= episode.quicktime.duration %>",
                "contentType": "video/x-m4v"
            }
        }<%= "," unless blog(:episodes).articles.size-1 == i %>
        <% end %>
    ]
}
