
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Formatting text with par</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/autocomplete.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_formatting-text-with-par episodes_formatting-text-with-par_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      

<div class="row announcement-banner">
  <div class="small-12 column show-for-small-only">
    <div class="panel">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

      
    </div>
  </div>

  <div class="panel show-for-medium-up clearfix">
    <div class="small-8 column">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

    </div>

    <div class="small-4 column">
      
    </div>
  </div>

</div>



      <header>
        <h2>Formatting text with par</h2>
        <div class="episode_number">
          <small>#</small>18
        </div>
        <time pubdate="pubdate" datetime="2010-05- 3">
          May  3, 2010
        </time>
        <div class="video-duration">
          
          Run time: <time datetime="P5M,12S">
            5:12
          </time>
        </div>
        
          <div class="video-tags">
            Tagged with:
            <a href="/categories/plaintext">plaintext</a>, <a href="/categories/wrapping">wrapping</a>, <a href="/categories/external-filters">external-filters</a>
          </div>
        
      </header>

      <div data-swiftype-index="true">
        <p>'Do one thing and do it well' is the principle of the Unix toolkit. Editing text is a broad domain, and there are many related tasks with which it overlaps. Vim acknowledges this by enabling certain tasks to be outsourced to external programs which do that one thing, and do it well. This episode will demonstrate how the <em>par</em> program can be used for formatting text.</p>


      </div>

      <video poster="http://vimcasts.org/images/posters/formatting_text_with_par.png"
        controls="controls" preload="none" class="placeholder"
        id="episode_18_placeholder">
        <source src="http://media.vimcasts.org/videos/18/formatting_with_par.ogv" type="video/ogg" />
        <source src="http://media.vimcasts.org/videos/18/formatting_with_par.m4v" type="video/x-m4v" />
      </video>

      <aside class="downloads">
        <ul class="inline-list">
          <li>Download: </li>

          <li class="ogg">
          <a href="http://media.vimcasts.org/videos/18/formatting_with_par.ogv">OGG</a>
          <span class="stats">7.6 MB</span>
          </li>

          <li class="quicktime">
          <a href="http://media.vimcasts.org/videos/18/formatting_with_par.m4v">Quicktime</a>
          <span class="stats">17.1 MB</span>
          </li>

      </ul>

        <p>
          View a <a href="/transcripts/18/en/">transcript of the video</a>.
        </p>
      </aside>

      <dl class="accordion" data-accordion>
        <dd>
        <a href="#shownotes">Shownotes</a>
        <div id="shownotes" class="content" data-swiftype-index="true">
          

<p><a href="http://www.nicemice.net/par/">Par</a> was written by Adam Costello in 1993, aiming to do one narrow task: reformat a single paragraph that might have a border on either side. The <a href="http://www.nicemice.net/par/par-doc.var">documentation</a> is terse, and the author apologises for the implementation being unclean. Nevertheless, the program is stable, portable, and most important of all, extremely useful.</p>

<p>The <code>formatprg</code> option allows you to specify an external program that will be called when you run the <code>gq</code> command. The simplest possible configuration would be:</p>

<pre><code>:set formatprg=par
</code></pre>

<p>By default, par sets line width at 72 columns. You can alter this by passing the <code>-w</code> flag with a number, for example:</p>

<pre><code>:set formatprg=par\ -w50
</code></pre>

<p>This sets the line width to 50 columns. The backslash is necessary to escape the space at the command line. There are many different flags that can be passed to the par program in this fashion. You can view a summary of these by running <code>par help</code> at the command line. </p>

<p>In the video, I give a quick overview of the following options:</p>

<ul>
  <li>w - specify line length</li>
  <li>r - repeat characters in bodiless lines</li>
  <li>j - justifies text</li>
  <li>e - remove 'superflous' lines</li>
  <li>q - handle nested quotations in plaintext email</li>
</ul>

<h2 id="installing-par">Installing par</h2>

<p>Before you can call par from Vim, you will have to make sure that it is installed on your system. </p>

<h3 id="installing-par-on-os-x-with-macports">Installing Par on OS X with macports</h3>

<p>If you have macports installed, you can <a href="http://par.darwinports.com/">install par on OS X</a> by running:</p>

<pre><code>sudo port install par
</code></pre>

<p>You will be prompted for your password.</p>

<h3 id="installing-par-on-other-platforms">Installing par on other platforms</h3>

<p>I haven't had time to try this out on either Linux or Windows. Please leave a comment if you find an article on the web with good instructions on how to install par, or build it from source.</p>

<h3 id="further-reading">Further reading</h3>

<ul>
  <li><a title="formatprg" href="http://vimdoc.sourceforge.net/htmldoc/options.html#"><code>:help formatprg</code></a></li>
  <li><a href="http://www.nicemice.net/par/">Par homepage</a></li>
  <li><a href="http://www.nicemice.net/par/par-doc.var">Par documentation</a></li>
  <li><a href="http://par.darwinports.com/">Installing par on OS X</a></li>
</ul>


        </div>
        </dd>
        <dd>
        <a href="#comments">Comments</a>
        <div id="comments" class="content">
          <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vimcasts'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </div>
        </dd>
      </dl>

      <div>
        <p>
        Like this video? Spread the word!
        TODO: add social sharing buttons here.
        </p>
      </div>


      <div>
  <hr/>
  <h3>Related content</h3>
  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">

    
      <li>
      <h4><a href="/episodes/hard-wrapping-text/">Hard wrapping text</a></h4>
      </li>
      
    
      <li>
      <h4><a href="/episodes/spell-checking/">Spell checking</a></h4>
      </li>
      
    
      <li>
      <h4><a href="/episodes/using-external-filter-commands-to-reformat-html/">Using external filter commands to reformat HTML</a></h4>
      </li>
      
    

    <li>
    <h4><a href="/training">Vim Training</a></h4>
    <p>Boost your productivity with a <a href="/training">Vim training class</a>. Join a public class, or <a href="/training/private">book a private session</a> for your team.</p>
    </li>
    <li>
    <h4><a href="/publications">Publications</a></h4>
    <p>
    Make yourself a faster and more efficient developer with the help of <a href="/publications">these publications</a>.
    </p>
    </li>
    <li>
    <h4><a href="/categories">Find by category</a></h4>
    <p>
    Vimcasts contains
    65 free screencasts and
    45 articles.
    <a href="/categories">Browse all content by category</a>.
    </p>
    </li>
  </ul>
</div>


      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>


    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  </body>
</html>

