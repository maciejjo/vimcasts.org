
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Tabs and Spaces</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/autocomplete.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_tabs-and-spaces episodes_tabs-and-spaces_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      

<div class="row announcement-banner">
  <div class="small-12 column show-for-small-only">
    <div class="panel">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

      
    </div>
  </div>

  <div class="panel show-for-medium-up clearfix">
    <div class="small-8 column">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

    </div>

    <div class="small-4 column">
      
    </div>
  </div>

</div>



      <header>
        <h2>Tabs and Spaces</h2>
        <div class="episode_number">
          <small>#</small>2
        </div>
        <time pubdate="pubdate" datetime="2010-01- 5">
          Jan  5, 2010
        </time>
        <div class="video-duration">
          
          Run time: <time datetime="P6M,22S">
            6:22
          </time>
        </div>
        
          <div class="video-tags">
            Tagged with:
            <a href="/categories/whitespace">whitespace</a>
          </div>
        
      </header>

      <div data-swiftype-index="true">
        <p>Vim offers very granular control over whitespace. This episode explains the purpose of <code>tabstop</code>, <code>softtabstop</code>, <code>shiftwidth</code> and <code>expandtab</code> settings, and illustrates how Vim behaves using various combinations of these.</p>


      </div>

      <video poster="http://vimcasts.org/images/posters/tabs_and_spaces.png"
        controls="controls" preload="none" class="placeholder"
        id="episode_2_placeholder">
        <source src="http://media.vimcasts.org/videos/2/tabs_and_spaces.ogv" type="video/ogg" />
        <source src="http://media.vimcasts.org/videos/2/tabs_and_spaces.m4v" type="video/x-m4v" />
      </video>

      <aside class="downloads">
        <ul class="inline-list">
          <li>Download: </li>

          <li class="ogg">
          <a href="http://media.vimcasts.org/videos/2/tabs_and_spaces.ogv">OGG</a>
          <span class="stats">8.3 MB</span>
          </li>

          <li class="quicktime">
          <a href="http://media.vimcasts.org/videos/2/tabs_and_spaces.m4v">Quicktime</a>
          <span class="stats">8.9 MB</span>
          </li>

      </ul>

        <p>
          View a <a href="/transcripts/2/en/">transcript of the video</a>.
        </p>
      </aside>

      <dl class="accordion" data-accordion>
        <dd>
        <a href="#shownotes">Shownotes</a>
        <div id="shownotes" class="content" data-swiftype-index="true">
          

<p>The following combinations are demonstrated in the video:</p>
<pre class="highlight viml"><span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">8</span> <span class="k">sts</span><span class="p">=</span><span class="m">0</span> <span class="k">sw</span><span class="p">=</span><span class="m">8</span> noexpandtab " default settings
<span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">8</span> <span class="k">sts</span><span class="p">=</span><span class="m">0</span> <span class="k">sw</span><span class="p">=</span><span class="m">8</span> expandtab
<span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">8</span> <span class="k">sts</span><span class="p">=</span><span class="m">8</span> <span class="k">sw</span><span class="p">=</span><span class="m">8</span> expandtab
<span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">8</span> <span class="k">sts</span><span class="p">=</span><span class="m">4</span> <span class="k">sw</span><span class="p">=</span><span class="m">4</span> expandtab
<span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">8</span> <span class="k">sts</span><span class="p">=</span><span class="m">4</span> <span class="k">sw</span><span class="p">=</span><span class="m">4</span> noexpandtab
<span class="k">set</span> <span class="k">ts</span><span class="p">=</span><span class="m">4</span> <span class="k">sts</span><span class="p">=</span><span class="m">4</span> <span class="k">sw</span><span class="p">=</span><span class="m">4</span> noexpandtab
</pre>

<p>If you prefer to work with tab characters then it is a good idea to ensure that <code>tabstop == softtabstop</code>. This makes it less likely that you&rsquo;ll end up with a mixture of tabs and spaces for indentation.</p>

<p>If you prefer to work with spaces, then it is preferable to ensure that <code>softtabstop == shiftwidth</code>. This way, you can expect the same number of spaces to be inserted whether you press the tab key in insert mode, or use the indentation commands in normal/visual modes.</p>

<p>The following snippet of vimscript allows you to assign the same value to tabstop, softtabstop and shiftwidth simultaneously:</p>
<pre class="highlight viml"><span class="c">" Set tabstop, softtabstop and shiftwidth to the same value</span>
command<span class="p">!</span> <span class="p">-</span>nargs<span class="p">=</span>* Stab <span class="k">call</span> Stab<span class="p">()</span>
<span class="k">function</span><span class="p">!</span> Stab<span class="p">()</span>
  <span class="k">let</span> <span class="k">l</span><span class="p">:</span>tabstop <span class="p">=</span> <span class="m">1</span> * input<span class="p">(</span><span class="s1">'set tabstop = softtabstop = shiftwidth = '</span><span class="p">)</span>
  <span class="k">if</span> <span class="k">l</span><span class="p">:</span>tabstop <span class="p">&gt;</span> <span class="m">0</span>
    <span class="k">let</span> &amp;<span class="k">l</span><span class="p">:</span><span class="k">sts</span> <span class="p">=</span> <span class="k">l</span><span class="p">:</span>tabstop
    <span class="k">let</span> &amp;<span class="k">l</span><span class="p">:</span><span class="k">ts</span> <span class="p">=</span> <span class="k">l</span><span class="p">:</span>tabstop
    <span class="k">let</span> &amp;<span class="k">l</span><span class="p">:</span><span class="k">sw</span> <span class="p">=</span> <span class="k">l</span><span class="p">:</span>tabstop
  <span class="k">endif</span>
  <span class="k">call</span> SummarizeTabs<span class="p">()</span>
<span class="k">endfunction</span>

<span class="k">function</span><span class="p">!</span> SummarizeTabs<span class="p">()</span>
  <span class="k">try</span>
    echohl ModeMsg
    <span class="k">echon</span> <span class="s1">'tabstop='</span><span class="p">.</span>&amp;<span class="k">l</span><span class="p">:</span><span class="k">ts</span>
    <span class="k">echon</span> <span class="s1">' shiftwidth='</span><span class="p">.</span>&amp;<span class="k">l</span><span class="p">:</span><span class="k">sw</span>
    <span class="k">echon</span> <span class="s1">' softtabstop='</span><span class="p">.</span>&amp;<span class="k">l</span><span class="p">:</span><span class="k">sts</span>
    <span class="k">if</span> &amp;<span class="k">l</span><span class="p">:</span>et
      <span class="k">echon</span> <span class="s1">' expandtab'</span>
    <span class="k">else</span>
      <span class="k">echon</span> <span class="s1">' noexpandtab'</span>
    <span class="k">endif</span>
  <span class="k">finally</span>
    echohl None
  <span class="k">endtry</span>
<span class="k">endfunction</span>
</pre>

<p>To invoke this command, go into normal mode (by pressing escape) then run:</p>
<pre class="highlight viml"><span class="p">:</span>Stab
</pre>

<p>Then hit enter. You will see this:</p>
<pre class="highlight viml"><span class="k">set</span> tabstop <span class="p">=</span> softtabstop <span class="p">=</span> shiftwidth <span class="p">=</span> 
</pre>

<p>Enter the size that you want to assign to those settings, and hit enter. A summary line then shows the value of each setting, as well as showing whether or not expandtab is enabled. If you hit enter without providing a value, then the tab settings are not affected.</p>

<p>You can also call the summary line by itself. I&rsquo;ve mapped this to <code>ctrl-shift-tab</code> for convenience. Feel free to modify the mappings, and the funcionality to suit your preferences.</p>

<h3>Further Reading</h3>

<ul>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/options.html#%27tabstop%27"><code>:help tabstop</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/options.html#%27softtabstop%27"><code>:help softtabstop</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/options.html#%27shiftwidth%27"><code>:help shiftwidth</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/options.html#%27expandtab%27"><code>:help expandtab</code></a></li>
</ul>

<p>When I started researching this episode, I asked a question on <a href="http://stackoverflow.com/questions/1562336/tab-vs-space-preferences-in-vim">StackOverflow.com</a>. The answers that came in seemed to be at odds with each other, which demonstrated to me that there is a lot of confusion over the subject. I&rsquo;d like to thank <a href="http://stackoverflow.com/users/28835/too-much-php">too<em>much</em>php</a> for providing <a href="http://stackoverflow.com/questions/1562336/tab-vs-space-preferences-in-vim/1610732#1610732">the vimscript sample</a> which I have adapted for my preferences. If it proves useful to yourself, why not show your gratitude by upvoting his answer?</p>

        </div>
        </dd>
        <dd>
        <a href="#comments">Comments</a>
        <div id="comments" class="content">
          <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vimcasts'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </div>
        </dd>
      </dl>

      <div>
        <p>
        Like this video? Spread the word!
        TODO: add social sharing buttons here.
        </p>
      </div>


      <div>
  <hr/>
  <h3>Related content</h3>
  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">

    
    

    
      <li>
        <h4><a href="/episodes/show-invisibles/">Show invisibles</a></h4>
        <p>Vim&rsquo;s <code>list</code> feature can be used to reveal hidden characters, such as tabstops and newlines. In this episode, I demonstrate how to customise the appearance of these characters by tweaking the <code>listchars</code> setting. I go on to show how to make these invisible characters blend in with your colortheme.</p>


      </li>
    
      <li>
        <h4><a href="/episodes/whitespace-preferences-and-filetypes/">Whitespace preferences and filetypes</a></h4>
        <p>Different file types may require particular whitespace settings. For example, YAML files must be indented using spaces, whereas makefiles require indentation with tabs. These preferences can be specified by hooking into the <code>FileType</code> event with an autocommand.</p>


      </li>
    
      <li>
        <h4><a href="/episodes/tidying-whitespace/">Tidying whitespace</a></h4>
        <p>This episode demonstrates a few techniques for tidying up whitespace.  First, it looks at how to convert between tabs and spaces. Then it shows how to strip trailing whitespace, and finally, how to remove blank lines from a file.</p>


      </li>
    
      <li>
        <h4><a href="/categories">Find by category</a></h4>
        <p>Vimcasts contains 65 free screencasts and 45 articles. <a href='/categories'>Browse all content by category</a>.</p>
      </li>
    
      <li>
        <h4><a href="/publications">Publications</a></h4>
        <p>Make yourself a faster and more efficient developer with the help of <a href='/publications'>these publications</a>.</p>
      </li>
    
      <li>
        <h4><a href="/training">Vim Training</a></h4>
        <p>Boost your productivity with a <a href='/training'>Vim training class</a>. Join a public class, or <a href='/training/private'>book a private session</a> for your team.</p>
      </li>
    

  </ul>
</div>


      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>


    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  </body>
</html>

