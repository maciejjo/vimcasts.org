
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>How to fold</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/autocomplete.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_how-to-fold episodes_how-to-fold_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      

<div class="row announcement-banner">
  <div class="small-12 column show-for-small-only">
    <div class="panel">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

      
    </div>
  </div>

  <div class="panel show-for-medium-up clearfix">
    <div class="small-8 column">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

    </div>

    <div class="small-4 column">
      
    </div>
  </div>

</div>



      <header>
        <h2>How to fold</h2>
        <div class="episode_number">
          <small>#</small>37
        </div>
        <time pubdate="pubdate" datetime="2012-11-19">
          Nov 19, 2012
        </time>
        <div class="video-duration">
          
          Run time: <time datetime="P8M,49S">
            8:49
          </time>
        </div>
        
          <div class="video-tags">
            Tagged with:
            <a href="/categories/folding">folding</a>
          </div>
        
      </header>

      <div data-swiftype-index="true">
        <p>Vim's folding feature enables us to expand and collapse regions of a document. Not only does this allow us to organize our workspace, it also makes it easy to navigate around the document, and to rearrange entire sections as though they were single lines.</p>


      </div>

      <video poster="http://vimcasts.org/images/posters/how_to_fold.png"
        controls="controls" preload="none" class="placeholder"
        id="episode_37_placeholder">
        <source src="http://media.vimcasts.org/videos/37/how-to-fold.ogv" type="video/ogg" />
        <source src="http://media.vimcasts.org/videos/37/how-to-fold.m4v" type="video/x-m4v" />
      </video>

      <aside class="downloads">
        <ul class="inline-list">
          <li>Download: </li>

          <li class="ogg">
          <a href="http://media.vimcasts.org/videos/37/how-to-fold.ogv">OGG</a>
          <span class="stats">17 MB</span>
          </li>

          <li class="quicktime">
          <a href="http://media.vimcasts.org/videos/37/how-to-fold.m4v">Quicktime</a>
          <span class="stats">26.1 MB</span>
          </li>

      </ul>

        <p>
          View a <a href="/transcripts/37/en/">transcript of the video</a>.
        </p>
      </aside>

      <dl class="accordion" data-accordion>
        <dd>
        <a href="#shownotes">Shownotes</a>
        <div id="shownotes" class="content" data-swiftype-index="true">
          

<h2 id="methods-of-folding">Methods of folding</h2>

<p>Vim has several different methods for folding a document. You can read more about them by looking up <a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-methods"><code>:help fold-methods</code></a>. I don't want to go into much detail about these different methods, except to say that I've found using a <a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-expr">custom expression</a> to be the most useful method by far.</p>

<p>For the purposes of the demonstration in this video, I used a markdown file, with the <a href="http://github.com/nelstrom/vim-markdown-folding"><code>markdown-folding</code></a> providing the fold expression. <a href="/e/38">Episode 38</a> will look at how the markdown folding expression is implemented, here we focus on <em>how to use</em> folding.</p>

<h2 id="essential-folding-commands">Essential folding commands</h2>

<p>Top of any Vim folding cheat sheet should be the <code>zi</code> command, which turns the folding functionality on and off. Here are the folding commands which I use most frequently:</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zi</code></td>
        <td>switch folding on or off</td>
    </tr>
    <tr>
        <td><code>za</code></td>
        <td>toggle current fold open/closed</td>
    </tr>
    <tr>
        <td><code>zc</code></td>
        <td>close current fold</td>
    </tr>
    <tr>
        <td><code>zR</code></td>
        <td>open all folds</td>
    </tr>
    <tr>
        <td><code>zM</code></td>
        <td>close all folds</td>
    </tr>
    <tr>
        <td><code>zv</code></td>
        <td>expand folds to reveal cursor</td>
    </tr>
</table>

<p>I recommend learning these commands first. The <code>za</code> command is so useful that you may want to consider mapping it to a single keystroke. Steve Losh suggests using this mapping:</p>

<pre><code>nnoremap &lt;Space&gt; za
</code></pre>

<p>While <code>za</code> is great for opening folds, the <code>zc</code> command is often more suitable when you want to close a fold. If the current fold is already closed, then <code>zc</code> will close the parent fold.</p>

<h2 id="navigating-the-unfolded-document">Navigating the unfolded document</h2>

<p>Even when the document is fully unfolded, the fact that Vim knows where the folds start and finish gives us an additional method for moving around.</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zj</code></td>
        <td>move down to top of next fold</td>
    </tr>
    <tr>
        <td><code>zk</code></td>
        <td>move up to bottom of previous fold</td>
    </tr>
</table>

<p>The custom fold expression adds a whole new layer of semantics, which allows us to rapidly navigate the sections of the document.</p>

<h2 id="more-folding-commands">More folding commands</h2>

<p>Here are some more folding commands:</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zo</code></td>
        <td>open current fold</td>
    </tr>
    <tr>
        <td><code>zO</code></td>
        <td>recursively open current fold</td>
    </tr>
    <tr>
        <td><code>zc</code></td>
        <td>close current fold</td>
    </tr>
    <tr>
        <td><code>zC</code></td>
        <td>recursively close current fold</td>
    </tr>
    <tr>
        <td><code>za</code></td>
        <td>toggle current fold</td>
    </tr>
    <tr>
        <td><code>zA</code></td>
        <td>recursively open/close current fold</td>
    </tr>
    <tr>
        <td><code>zm</code></td>
        <td>reduce `foldlevel` by one</td>
    </tr>
    <tr>
        <td><code>zM</code></td>
        <td>close all folds</td>
    </tr>
    <tr>
        <td><code>zr</code></td>
        <td>increase `foldlevel` by one</td>
    </tr>
    <tr>
        <td><code>zR</code></td>
        <td>open all folds</td>
    </tr>
</table>

<h2 id="chaining-folding-commands">Chaining folding commands</h2>

<p>Vim's folding commands operate at a low level. Sometimes, we have to chain a couple of these low level commands together to produce the desired result. For example, pressing <code>zMzv</code> has the effect of closing all open folds <em>apart from the one that the cursor is on</em> (see the video for a demonstration).</p>

<h2 id="further-reading">Further reading</h2>

<ul>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-commands"><code>:help fold-commands</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-methods"><code>:help fold-methods</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-expr"><code>:help fold-expr</code></a></li>
  <li><a href="http://github.com/nelstrom/vim-markdown-folding">markdown-folding plugin</a></li>
  <li><a href="https://github.com/sjl/dotfiles/blob/eea18b00b8c74943f5094fddf91d3c2a7e0a7242/vim/vimrc#L534">Steve Losh's fold mappings</a></li>
</ul>


        </div>
        </dd>
        <dd>
        <a href="#comments">Comments</a>
        <div id="comments" class="content">
          <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vimcasts'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </div>
        </dd>
      </dl>

      <div>
        <p>
        Like this video? Spread the word!
        TODO: add social sharing buttons here.
        </p>
      </div>


      <div>
  <hr/>
  <h3>Related content</h3>
  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">

    
      <li>
      <h4><a href="/episodes/writing-a-custom-fold-expression/">Writing a custom fold expression</a></h4>
      </li>
      
    
      <li>
      <h4><a href="/episodes/how-to-fold/">How to fold</a></h4>
      </li>
      
    

    <li>
    <h4><a href="/training">Vim Training</a></h4>
    <p>Boost your productivity with a <a href="/training">Vim training class</a>. Join a public class, or <a href="/training/private">book a private session</a> for your team.</p>
    </li>
    <li>
    <h4><a href="/publications">Publications</a></h4>
    <p>
    Make yourself a faster and more efficient developer with the help of <a href="/publications">these publications</a>.
    </p>
    </li>
    <li>
    <h4><a href="/categories">Find by category</a></h4>
    <p>
    Vimcasts contains
    65 free screencasts and
    45 articles.
    <a href="/categories">Browse all content by category</a>.
    </p>
    </li>
  </ul>
</div>


      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>


    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  </body>
</html>

