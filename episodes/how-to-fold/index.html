
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>How to fold</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/vimcasts.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_how-to-fold episodes_how-to-fold_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name"></li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right search-form-wrapper">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="open"><a href="/episodes">Screencasts</a></li><li><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>
            </ul>
          </section>
        </nav>

      </div>

      <nav class="compact-nav tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="right tab-bar-section">
          
            <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


          
        </section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="open"><a href="/episodes">Screencasts</a></li><li><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>

          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Essential Vim Skills<br/>
              <small><a href="/about/">with Drew Neil, author of Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">
      
    </div>
  </div>

  <section class="screencast">
    <div class="title-row">
      <h2 class="title">
        How to fold
      </h2>
      <h2 class="episode_number">
        <small>#</small>37
      </h2>
    </div>

    <div class="pubdate-row">

  <div class="video-run-time">
    
    Run time: <time datetime="P8M,49S">
      8:49
    </time>
  </div>

  <time class="pubdate" pubdate="pubdate" datetime="2012-11-19">
    <div class="hide-for-medium-up">Nov&nbsp;19, '12</div><div class="show-for-medium-up">Nov 19, 2012</div>
  </time>

</div>


    <div class="summary-row">
      <div class="episode_summary enlarged" data-swiftype-index="true">
        <p>Vim&rsquo;s folding feature enables us to expand and collapse regions of a document. Not only does this allow us to organize our workspace, it also makes it easy to navigate around the document, and to rearrange entire sections as though they were single lines.</p>


      </div>
    </div>

    <div class="video-row">

      <div class="video-column">
        <div class="video_wrapper">
          <video poster="http://vimcasts.org/images/posters/how_to_fold.png"
            controls="controls" preload="none" class="placeholder"
            id="episode_37_placeholder">
            <source src="http://media.vimcasts.org/videos/37/how-to-fold.ogv" type="video/ogg" />
            <source src="http://media.vimcasts.org/videos/37/how-to-fold.m4v" type="video/x-m4v" />
          </video>
        </div>
      </div>

      <aside class="downloads">

        <div class="download-videos">
          <h4>Download</h4>
          <ul class="downloads-list">
            <li class="ogg">
              <a href="http://media.vimcasts.org/videos/37/how-to-fold.ogv">OGG</a>
              <span class="stats">17 MB</span>
            </li>
            <li class="quicktime">
              <a href="http://media.vimcasts.org/videos/37/how-to-fold.m4v">Quicktime</a>
              <span class="stats">26.1 MB</span>
            </li>
          </ul>
        </div>

        <div class="video-metadata">
          <p class="video-duration">
            
            Run time:
            <time datetime="P8M,49S">
              8:49
            </time>
          </p>

          <p>
            <a href="/transcripts/37/en/">Read transcript</a>
          </p>
        </div>

      </aside>

    </div>

    <div class="content-row">
      <dl class="accordion" data-accordion>
        <dd>
          <a href="#shownotes">Shownotes<span class="disclosure"></span></a>
          <div id="shownotes" class="content" data-swiftype-index="true">
            

<h2>Methods of folding</h2>

<p>Vim has several different methods for folding a document. You can read more about them by looking up <a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-methods"><code>:help fold-methods</code></a>. I don&rsquo;t want to go into much detail about these different methods, except to say that I&rsquo;ve found using a <a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-expr">custom expression</a> to be the most useful method by far.</p>

<p>For the purposes of the demonstration in this video, I used a markdown file, with the <a href="http://github.com/nelstrom/vim-markdown-folding"><code>markdown-folding</code></a> providing the fold expression. <a href="/e/38">Episode 38</a> will look at how the markdown folding expression is implemented, here we focus on <em>how to use</em> folding.</p>

<h2>Essential folding commands</h2>

<p>Top of any Vim folding cheat sheet should be the <code>zi</code> command, which turns the folding functionality on and off. Here are the folding commands which I use most frequently:</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zi</code></td>
        <td>switch folding on or off</td>
    </tr>
    <tr>
        <td><code>za</code></td>
        <td>toggle current fold open/closed</td>
    </tr>
    <tr>
        <td><code>zc</code></td>
        <td>close current fold</td>
    </tr>
    <tr>
        <td><code>zR</code></td>
        <td>open all folds</td>
    </tr>
    <tr>
        <td><code>zM</code></td>
        <td>close all folds</td>
    </tr>
    <tr>
        <td><code>zv</code></td>
        <td>expand folds to reveal cursor</td>
    </tr>
</table>

<p>I recommend learning these commands first. The <code>za</code> command is so useful that you may want to consider mapping it to a single keystroke. Steve Losh suggests using this mapping:</p>
<pre class="highlight plaintext">nnoremap &lt;Space&gt; za
</pre>

<p>While <code>za</code> is great for opening folds, the <code>zc</code> command is often more suitable when you want to close a fold. If the current fold is already closed, then <code>zc</code> will close the parent fold.</p>

<h2>Navigating the unfolded document</h2>

<p>Even when the document is fully unfolded, the fact that Vim knows where the folds start and finish gives us an additional method for moving around.</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zj</code></td>
        <td>move down to top of next fold</td>
    </tr>
    <tr>
        <td><code>zk</code></td>
        <td>move up to bottom of previous fold</td>
    </tr>
</table>

<p>The custom fold expression adds a whole new layer of semantics, which allows us to rapidly navigate the sections of the document.</p>

<h2>More folding commands</h2>

<p>Here are some more folding commands:</p>

<table>
    <tr>
        <th>command</th>
        <th>effect</th>
    </tr>
    <tr>
        <td><code>zo</code></td>
        <td>open current fold</td>
    </tr>
    <tr>
        <td><code>zO</code></td>
        <td>recursively open current fold</td>
    </tr>
    <tr>
        <td><code>zc</code></td>
        <td>close current fold</td>
    </tr>
    <tr>
        <td><code>zC</code></td>
        <td>recursively close current fold</td>
    </tr>
    <tr>
        <td><code>za</code></td>
        <td>toggle current fold</td>
    </tr>
    <tr>
        <td><code>zA</code></td>
        <td>recursively open/close current fold</td>
    </tr>
    <tr>
        <td><code>zm</code></td>
        <td>reduce `foldlevel` by one</td>
    </tr>
    <tr>
        <td><code>zM</code></td>
        <td>close all folds</td>
    </tr>
    <tr>
        <td><code>zr</code></td>
        <td>increase `foldlevel` by one</td>
    </tr>
    <tr>
        <td><code>zR</code></td>
        <td>open all folds</td>
    </tr>
</table>

<h2>Chaining folding commands</h2>

<p>Vim&rsquo;s folding commands operate at a low level. Sometimes, we have to chain a couple of these low level commands together to produce the desired result. For example, pressing <code>zMzv</code> has the effect of closing all open folds <em>apart from the one that the cursor is on</em> (see the video for a demonstration).</p>

<h2>Further reading</h2>

<ul>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-commands"><code>:help fold-commands</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-methods"><code>:help fold-methods</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/fold.html#fold-expr"><code>:help fold-expr</code></a></li>
<li><a href="http://github.com/nelstrom/vim-markdown-folding">markdown-folding plugin</a></li>
<li><a href="https://github.com/sjl/dotfiles/blob/eea18b00b8c74943f5094fddf91d3c2a7e0a7242/vim/vimrc#L534">Steve Losh&rsquo;s fold mappings</a></li>
</ul>

          </div>
        </dd>
        <dd>
          <a href="#comments" class="show-comments">Comments<span class="disclosure"></span></a>
          <div id="comments" class="content">
            <div id="disqus_thread"></div>

          </div>
        </dd>
      </dl>
    </div>

  </section>

  
<div class="share-container">
  <p class="call-to-action">Like this video? Spread the word!</p>

  <!-- buttons start here -->
  <div class="buttons">
    <ul class="rrssb-buttons">

      <li class="twitter">
        <a href="http://twitter.com/home?status=How%20to%20fold http://proof.vimcasts.org/episodes/how-to-fold/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
              width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <path d="M24.253,8.756C24.689,17.08,18.297,24.182,9.97,24.62c-3.122,0.162-6.219-0.646-8.861-2.32
              c2.703,0.179,5.376-0.648,7.508-2.321c-2.072-0.247-3.818-1.661-4.489-3.638c0.801,0.128,1.62,0.076,2.399-0.155
              C4.045,15.72,2.215,13.6,2.115,11.077c0.688,0.275,1.426,0.407,2.168,0.386c-2.135-1.65-2.729-4.621-1.394-6.965
              C5.575,7.816,9.54,9.84,13.803,10.071c-0.842-2.739,0.694-5.64,3.434-6.482c2.018-0.623,4.212,0.044,5.546,1.683
              c1.186-0.213,2.318-0.662,3.329-1.317c-0.385,1.256-1.247,2.312-2.399,2.942c1.048-0.106,2.069-0.394,3.019-0.851
              C26.275,7.229,25.39,8.196,24.253,8.756z"/>
            </svg>
          </span>
          <span class="text">twitter</span>
        </a>
      </li>

      <li class="googleplus">
        <a href="https://plus.google.com/share?url=How%20to%20fold http://proof.vimcasts.org/episodes/how-to-fold/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <g>
              <g>
              <path d="M14.703,15.854l-1.219-0.948c-0.372-0.308-0.88-0.715-0.88-1.459c0-0.748,0.508-1.223,0.95-1.663
              c1.42-1.119,2.839-2.309,2.839-4.817c0-2.58-1.621-3.937-2.399-4.581h2.097l2.202-1.383h-6.67c-1.83,0-4.467,0.433-6.398,2.027
              C3.768,4.287,3.059,6.018,3.059,7.576c0,2.634,2.022,5.328,5.604,5.328c0.339,0,0.71-0.033,1.083-0.068
              c-0.167,0.408-0.336,0.748-0.336,1.324c0,1.04,0.551,1.685,1.011,2.297c-1.524,0.104-4.37,0.273-6.467,1.562
              c-1.998,1.188-2.605,2.916-2.605,4.137c0,2.512,2.358,4.84,7.289,4.84c5.822,0,8.904-3.223,8.904-6.41
              c0.008-2.327-1.359-3.489-2.829-4.731H14.703z M10.269,11.951c-2.912,0-4.231-3.765-4.231-6.037c0-0.884,0.168-1.797,0.744-2.511
              c0.543-0.679,1.489-1.12,2.372-1.12c2.807,0,4.256,3.798,4.256,6.242c0,0.612-0.067,1.694-0.845,2.478
              c-0.537,0.55-1.438,0.948-2.295,0.951V11.951z M10.302,25.609c-3.621,0-5.957-1.732-5.957-4.142c0-2.408,2.165-3.223,2.911-3.492
              c1.421-0.479,3.25-0.545,3.555-0.545c0.338,0,0.52,0,0.766,0.034c2.574,1.838,3.706,2.757,3.706,4.479
              c-0.002,2.073-1.736,3.665-4.982,3.649L10.302,25.609z"/>
              <polygon points="23.254,11.89 23.254,8.521 21.569,8.521 21.569,11.89 18.202,11.89 18.202,13.604 21.569,13.604 21.569,17.004
              23.254,17.004 23.254,13.604 26.653,13.604 26.653,11.89      "/>
              </g>
              </g>
            </svg>
          </span>
          <span class="text">google+</span>
        </a>
      </li>

      <li class="facebook">
        <a href="https://www.facebook.com/sharer/sharer.php?u=http://proof.vimcasts.org/episodes/how-to-fold/" class="popup">
          <span class="icon">
            <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve">
              <path d="M27.825,4.783c0-2.427-2.182-4.608-4.608-4.608H4.783c-2.422,0-4.608,2.182-4.608,4.608v18.434
              c0,2.427,2.181,4.608,4.608,4.608H14V17.379h-3.379v-4.608H14v-1.795c0-3.089,2.335-5.885,5.192-5.885h3.718v4.608h-3.726
              c-0.408,0-0.884,0.492-0.884,1.236v1.836h4.609v4.608h-4.609v10.446h4.916c2.422,0,4.608-2.188,4.608-4.608V4.783z"/>
            </svg>
          </span>
          <span class="text">facebook</span>
        </a>
      </li>

      <li class="email">
        <a href="mailto:?subject=How%20to%20fold&amp;body=http%3A%2F%2Fproof.vimcasts.org%2Fepisodes%2Fhow-to-fold%2F">
          <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="28px" height="28px" viewBox="0 0 28 28" enable-background="new 0 0 28 28" xml:space="preserve"><g><path d="M20.111 26.147c-2.336 1.051-4.361 1.401-7.125 1.401c-6.462 0-12.146-4.633-12.146-12.265 c0-7.94 5.762-14.833 14.561-14.833c6.853 0 11.8 4.7 11.8 11.252c0 5.684-3.194 9.265-7.399 9.3 c-1.829 0-3.153-0.934-3.347-2.997h-0.077c-1.208 1.986-2.96 2.997-5.023 2.997c-2.532 0-4.361-1.868-4.361-5.062 c0-4.749 3.504-9.071 9.111-9.071c1.713 0 3.7 0.4 4.6 0.973l-1.169 7.203c-0.388 2.298-0.116 3.3 1 3.4 c1.673 0 3.773-2.102 3.773-6.58c0-5.061-3.27-8.994-9.303-8.994c-5.957 0-11.175 4.673-11.175 12.1 c0 6.5 4.2 10.2 10 10.201c1.986 0 4.089-0.43 5.646-1.245L20.111 26.147z M16.646 10.1 c-0.311-0.078-0.701-0.155-1.207-0.155c-2.571 0-4.595 2.53-4.595 5.529c0 1.5 0.7 2.4 1.9 2.4 c1.441 0 2.959-1.828 3.311-4.087L16.646 10.068z"/></g></svg>
          </span>
          <span class="text">email</span>
        </a>
      </li>

    </ul>
  </div>
</div>


  <div class="row">
  <div class="small-12 large-10 large-offset-2 columns">

    <nav class="pagination-links">

      
        
          <a class="previous" title="VimGolf - Prime Numbers" href="/episodes/vimgolf-prime-numbers/">&laquo; Previous</a>
        
      
        
          <a class="next" title="Writing a custom fold expression" href="/episodes/writing-a-custom-fold-expression/">Next &raquo;</a>
        
      

    </nav>

  </div>
</div>



  <div class="row">
  <div class="small-12 columns">
  <hr/>

  
  
    <h3>Browse similar content by category:</h3>
    <ul class="category-list">
  
    
    <li>
    <a href="/categories/navigating-a-document">
      <h4>Navigating a document</h4>
      <p>
      3&nbsp;screencasts, 1&nbsp;article
      </p>
    </a>
    </li>
  
    
    <li>
    <a href="/categories/folding">
      <h4>folding</h4>
      <p>
      2&nbsp;screencasts
      </p>
    </a>
    </li>
  
</ul>

  


  </div>
</div>

<div class="row">
  <div class="small-12 columns">
  <h1>Level up your Vim</h1>
</div>

<div class="small-12 medium-12 large-4 columns">
  <h2>Training</h2>
  <p>
    Boost your productivity with a <a href="/training">Vim training class</a>.
    Join a public class,
    or book a private session for your team.
  </p>
</div>

<div class="small-12 medium-6 large-4 columns">
  <h2>Publications</h2>
  <p>
    Make yourself a faster and more efficient developer with the help of <a href="/publications">these publications</a>.
  </p>
</div>

<div class="small-12 medium-6 large-4 columns">
  <h2>Pro-screencasts</h2>
  <p>
    In collaboration with Thoughtbot,
    Drew Neil has produced a set of pro-screencasts for Rubyists.
    <a href="https://learn.thoughtbot.com/products/21-navigating-ruby-files-with-vim">Buy them from Thoughtbot</a>.
  </p>
</div>

</div>


  <div class="row">
    <div class="small-12 columns">
      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>

    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  

  </body>
</html>

