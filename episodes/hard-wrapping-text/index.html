<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Hard wrapping text</title>

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_hard-wrapping-text episodes_hard-wrapping-text_index">

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
            <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">
            <!-- Right Nav Section -->
            <ul class="right">
              <li class="has-form">
              <div class="row collapse">
                <div class="large-8 small-9 columns">
                  <input type="text" placeholder="Explore archives">
                </div>
                <div class="large-4 small-3 columns">
                  <a href="#" class="alert button expand">Search</a>
                </div>
              </div>
              </li>
            </ul>

            <!-- Left Nav Section -->
            <ul class="left">
              <li><a href="/categories">Episodes</a></li>
              <li><a href="/blog">Blog</a></li>
              <li><a href="/training">Training</a></li>
              <li><a href="/publications">Publications</a></li>
            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li><a href="/">Home</a></li>
          <li><a href="/episodes">Episodes</a></li>
          <li><a href="/blog">Blog</a></li>
          <li><a href="/training">Training</a></li>
          <li><a href="/publications">Publications</a></li>
          <li>
          <form>
            <label text="search">Search: <input type="search" disabled/></label>
          </form>
          </li>
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="show-for-small-only text-right">
              Free Vim screencasts<br/>
              <small>with Drew Neil</small>
            </h4>
            <h4 class="show-for-medium-up text-right">
              Free Vim screencasts<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical Vim</a></small>
            </h4>
            
          </div>
        </div>

        <p>It is sometimes preferable to format text with hard wrapped lines, for example when writing emails in plaintext. Vim can apply this style of formatting for you. This episode shows some of the options which allow you to customize Vim's text formatting.</p>

<p></p>

<p>The <code>gq{motion}</code> command will format a section of text. The <code>ip</code> motion selects the current paragraph, so <code>gqip</code> applies formatting to the current paragraph.</p>

<p>Running the <code>gq</code> command moves the cursor to the end of the paragraph. If you want to keep the cursor on the same word, you can instead run the command <code>gw</code>.</p>

<p>The <code>textwidth</code> setting is a number representing the maximum allowed width of a line. When set to zero, which is the default, Vim will use the full width of the window up to a maximum of 80 characters. When set to a value above zero, Vim will format lines of text so as not to exceed the value of <code>textwidth</code>.</p>

<p>The <code>wrapmargin</code> setting can be used to specify the number of characters from the right window border where wrapping begins. This can be useful if you have <code>number</code> or <code>foldcolumn</code> enabled, as both of these use up some of the width of the window. The <code>textwidth</code> setting takes precedence over <code>wrapmargin</code>.</p>

<p>You can influence how Vim applies formatting with the <code>formatoptions</code> setting. This is a string, which may contain any of the flags defined in <a href="http://vimdoc.sourceforge.net/htmldoc/change.html#fo-table"><code>fo-table</code></a>. You can set the <code>formatoptions</code> to a string by direct assignment:</p>

<pre><code>:set formatoptions=tcq
</code></pre>

<p>You can also add and remove flags from the list, with the following invocations:</p>

<pre><code>:set fo+=a
:set fo-=n
</code></pre>

<p>In the video, I demonstrate how Vim behaves when inserting, editing and deleting text with a blank <code>formatoptions</code> string, then with <code>fo=t</code>, and finally with <code>fo=ta</code>.</p>

<p>Note that the <code>gq</code> command will only invoke Vim's internal formatter if both the <code>formatexpr</code> and <code>formatprg</code> options are blank. On the other hand, the <code>gw</code> command will always invoke Vim's internal formatting engine, even if one of the alternate formatters is enabled.</p>

<h3 id="further-reading">Further reading</h3>

<ul>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/usr_25.html"><code>:help usr_25</code> - Editing formatted text</a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#gq"><code>:help gq</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#gw"><code>:help gw</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#fo-table"><code>:help fo-table</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/options.html#add-option-flags"><code>:help add-option-flags</code></a></li>
  <li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#auto-format"><code>:help auto-format</code></a></li>
  <li><a title="formatprg" href="http://vimdoc.sourceforge.net/htmldoc/options.html#"><code>:help formatprg</code></a></li>
  <li><a title="formatexpr" href="http://vimdoc.sourceforge.net/htmldoc/options.html#"><code>:help formatexpr</code></a></li>
</ul>


      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>


    <script src="/javascripts/all.js" type="text/javascript"></script>
  </body>
</html>
