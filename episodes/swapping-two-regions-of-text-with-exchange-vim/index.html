
<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>Swapping two regions of text with exchange.vim</title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/autocomplete.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="episodes episodes_swapping-two-regions-of-text-with-exchange-vim episodes_swapping-two-regions-of-text-with-exchange-vim_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      

<div class="row announcement-banner">
  <div class="small-12 column show-for-small-only">
    <div class="panel">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

      
    </div>
  </div>

  <div class="panel show-for-medium-up clearfix">
    <div class="small-8 column">
      <p>
            No Core Vim Classes are currently scheduled. <a href="#">Sign up to the mailing list</a> to hear of upcoming classes.
</p>

    </div>

    <div class="small-4 column">
      
    </div>
  </div>

</div>



      <header>
        <h2>Swapping two regions of text with exchange.vim</h2>
        <div class="episode_number">
          <small>#</small>65
        </div>
        <time pubdate="pubdate" datetime="2014-02-24">
          Feb 24, 2014
        </time>
        <div class="video-duration">
          
          Run time: <time datetime="P4M,05S">
            4:05
          </time>
        </div>
        
          <div class="video-tags">
            Tagged with:
            <a href="/categories/plugins">plugins</a>, <a href="/categories/exchange">exchange</a>, <a href="/categories/visual-mode">visual-mode</a>
          </div>
        
      </header>

      <div data-swiftype-index="true">
        <p>Swapping two regions of text is a common task, which normally requires that we make two separate changes to the document.
Tom McDonald&rsquo;s <a href="https://github.com/tommcdo/vim-exchange">exchange plugin</a> offers an elegant alternative, by providing an operator that swaps two regions of text in one go.</p>


      </div>

      <video poster="http://vimcasts.org/images/posters/exchange.png"
        controls="controls" preload="none" class="placeholder"
        id="episode_65_placeholder">
        <source src="http://media.vimcasts.org/videos/65/exchange.ogv" type="video/ogg" />
        <source src="http://media.vimcasts.org/videos/65/exchange.m4v" type="video/x-m4v" />
      </video>

      <aside class="downloads">
        <ul class="inline-list">
          <li>Download: </li>

          <li class="ogg">
          <a href="http://media.vimcasts.org/videos/65/exchange.ogv">OGG</a>
          <span class="stats">4.3 MB</span>
          </li>

          <li class="quicktime">
          <a href="http://media.vimcasts.org/videos/65/exchange.m4v">Quicktime</a>
          <span class="stats">8.4 MB</span>
          </li>

      </ul>

        <p>
          View a <a href="/transcripts/65/en/">transcript of the video</a>.
        </p>
      </aside>

      <dl class="accordion" data-accordion>
        <dd>
        <a href="#shownotes">Shownotes</a>
        <div id="shownotes" class="content" data-swiftype-index="true">
          

<p>In <a href="/e/54">episode 54</a>, I covered a technique for swapping two regions of text using the <a href="http://vimdoc.sourceforge.net/htmldoc/change.html#v_p">Visual mode put command</a>. It&rsquo;s a neat workflow, but there&rsquo;s room for some improvement.
This technique requires that we make two changes to the document, and consequently we have to press undo twice if we want to revert the swap.</p>

<p>For an alternative approach, check out <a href="https://github.com/tommcdo/vim-exchange">exchange</a>, by Tom McDonald. This is a little gem of a plugin! It provides one extra operation, which is mapped to <code>cx</code> by default.</p>
<pre class="highlight plaintext">Used in pairs.
FIRST USE: define the first region of text to be
exchanged. Any valid {motion} can be used.
SECOND USE: define the second region of text and
perform the exchange.
</pre>

<p>One pleasing consequence to this approach is that we can revert the change by pressing undo one time.</p>

<h3>On the default mappings</h3>

<p>I like the default mappings for exchange.vim. I think of it as a back-to-front mnemonic for <em>Ex-Change</em>, and that seems appropriate considering what the mapping does!</p>

<p>In the video, I began by demonstrating <code>{Visual}cx</code>, then went on to demonstrate the <code>cx{motion}</code> operator. There were some <a href="https://github.com/tommcdo/vim-exchange/issues/14">problems with using <code>cx</code> as a Visual mode mapping</a>. These have now been resolved by <a href="https://github.com/tommcdo/vim-exchange/pull/20">using X as the Visual mode mapping</a>.</p>

<p>Previously, I recommended setting this up by putting this in your vimrc:</p>
<pre class="highlight viml"><span class="k">let</span> <span class="nv">g:exchange_no_mappings</span><span class="p">=</span><span class="m">1</span>
nmap cx <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>Exchange<span class="p">)</span>
vmap <span class="k">X</span> <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>Exchange<span class="p">)</span>
nmap cxc <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>ExchangeClear<span class="p">)</span>
nmap cxx <span class="p">&lt;</span>Plug<span class="p">&gt;(</span>ExchangeLine<span class="p">)</span>
</pre>

<p>This snippet of Vimscript is no longer necessary - you can get this behaviour by installing the latest version of <a href="https://github.com/tommcdo/vim-exchange">exchange.vim</a>.</p>

<h3>Further reading</h3>

<ul>
<li><a href="https://github.com/tommcdo/vim-exchange">exchange.vim</a> by Tom McDonald</li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#v_p"><code>:h v_p</code></a></li>
<li><a href="http://vimdoc.sourceforge.net/htmldoc/change.html#v_c"><code>:h v_c</code></a></li>
</ul>

        </div>
        </dd>
        <dd>
        <a href="#comments">Comments</a>
        <div id="comments" class="content">
          <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'vimcasts'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


        </div>
        </dd>
      </dl>

      <div>
        <p>
        Like this video? Spread the word!
        TODO: add social sharing buttons here.
        </p>
      </div>


      <div>
  <hr/>
  <h3>Related content</h3>
  <ul class="small-block-grid-1 medium-block-grid-2 large-block-grid-3">

    
    

    
      <li>
        <h4><a href="/episodes/operating-on-search-matches-using-gn/">Operating on search matches using gn</a></h4>
        <p>The <code>gn</code> command (introduced in Vim 7.4) makes it easy to operate on regions of text that match the current search pattern. It&rsquo;s especially useful when used with a regex that matches text regions of variable length.</p>


      </li>
    
      <li>
        <h4><a href="/training">Vim Training</a></h4>
        <p>Boost your productivity with a <a href='/training'>Vim training class</a>. Join a public class, or <a href='/training/private'>book a private session</a> for your team.</p>
      </li>
    
      <li>
        <h4><a href="/episodes/selecting-columns-with-visual-block-mode/">Selecting columns with visual block mode</a></h4>
        <p>If you want to edit several adjacent lines with a similar format, you might save a lot of time by making a columnar selection. This episode will demonstrate how to achieve this using Vim&rsquo;s visual block mode.</p>


      </li>
    
      <li>
        <h4><a href="/publications">Publications</a></h4>
        <p>Make yourself a faster and more efficient developer with the help of <a href='/publications'>these publications</a>.</p>
      </li>
    
      <li>
        <h4><a href="/episodes/synchronizing-plugins-with-git-submodules-and-pathogen/">Synchronizing plugins with git submodules and pathogen</a></h4>
        <p>If you use Vim on muliple machines, it can be difficult to keep your configuration files synchronized across them. One solution is to put your dotfiles under version control. In this episode, I demonstrate how to keep your vimrc and plugins synchronized using git submodules and the pathogen plugin.</p>


      </li>
    
      <li>
        <h4><a href="/categories">Find by category</a></h4>
        <p>Vimcasts contains 65 free screencasts and 45 articles. <a href='/categories'>Browse all content by category</a>.</p>
      </li>
    

  </ul>
</div>


      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>


    </div>
  </div>




      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  </body>
</html>

