<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title></title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/vimcasts.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="transcripts transcripts_58 transcripts_58_en transcripts_58_en_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name"></li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right search-form-wrapper">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li><a href="/episodes">Screencasts</a></li><li><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>
            </ul>
          </section>
        </nav>

      </div>

      <nav class="compact-nav tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="right tab-bar-section">
          
            <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


          
        </section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li><a href="/episodes">Screencasts</a></li><li><a href="/blog">Articles</a></li><li><a href="/categories">Categories</a></li><li><a href="/training">Training</a></li><li><a href="/publications">Publications</a></li>
<li><a href="/subscribe">Subscribe</a></li>

          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Learn Essential Vim&nbsp;Skills<br/>
              <small><a href="/about/">with&nbsp;Drew Neil, author of Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          

  <section class="transcript">
    <div class="title-row">
      <h2 class="title">
        Accessing the system clipboard from Vim
      </h2>
      <h2 class="episode_number">
        <small>#</small>58
      </h2>
    </div>

    <div class="pubdate-row">
      <div class="transcript-context">
        This is a transcript of
        <a href="/episodes/accessing-the-system-clipboard-from-vim/">screencast&nbsp;58</a>.
      </div>
      <time class="pubdate" pubdate="pubdate" datetime="2013-11-11">
        <div class="hide-for-medium-up">Nov&nbsp;11, '13</div><div class="show-for-medium-up">Nov 11, 2013</div>
      </time>
    </div>

    <div class="summary-row">
      <div class="episode_summary enlarged">
        <p>In some environments, Vim lets us access the system clipboard using the quoteplus register, <code>&quot;+</code>. When this feature is enabled, we can use it with the delete, yank and put operations in much the same way that we use Vim&rsquo;s other registers. Pasting from this register usually produces better results than using the system paste command in Insert mode.</p>


      </div>
    </div>

    <div class="transcript-row">
      <div class="transcript-body">
      <h2>Copying text to the system clipboard</h2>

<p>[clear Alfred clipboard history]</p>

<p>I&rsquo;ve set up a hotkey to display an inspector window that shows my clipboard history. [show Alfred clipboard history]</p>

<p>It&rsquo;s empty at the moment, but if I select the URL from my browser&rsquo;s location bar and copy it, you&rsquo;ll see that it shows up in my clipboard history. [show Alfred clipboard history]</p>

<p>Inside of Vim, I can copy text into the system clipboard by using the quoteplus register. Watch this: I&rsquo;ll visually select this snippet of code, then press <code>&quot;+y</code> &ldquo;quote-plus-wye&rdquo;. That snippet now shows up as the topmost item in my clipboard history. [show Alfred clipboard history]</p>

<p>Now that the text is in my clipboard, I can easily paste it into other applications running on my machine.</p>

<h2>Pasting from the system clipboard</h2>

<p>Suppose that I want to copy some text from a webpage into a Vim buffer. I&rsquo;ll copy this short snippet of javascript from <a href="http://rosettacode.org/wiki/FizzBuzz#JavaScript">this gist</a>. Here in Vim, I have an empty file called <code>fizzbuzz.js</code>. I&rsquo;ll switch to Insert mode and use the system paste command (command-v).</p>

<p>Whoops! That doesn&rsquo;t look right! Vim receives a stream of characters and interprets them just as though they were typed manually. Vim&rsquo;s autoindent feature adds indentation each time a new line is started. When combined with the indentation already present in the pasted source code, the result is that each line drifts farther and farther to the right.</p>

<p>By the way, if you&rsquo;re running GVim (or MacVim), then you won&rsquo;t experience this problem. In the graphical environment, Vim is able to detect when a stream of input comes from the clipboard, and adjusts its behavior accordingly.</p>

<p>In Terminal Vim, we can avoid this problem by pasting from the quoteplus register. I&rsquo;ll use the Ex put command this time:</p>
<pre class="highlight plaintext">:put +
</pre>

<p>That&rsquo;s more like it!</p>

<p>If you&rsquo;re dealing with snippets of text less than a line in length, there&rsquo;s no reason to avoid using the system paste command in Insert mode. But if you&rsquo;re pasting multiple lines of text, I&rsquo;d encourage you to use the quoteplus register where possible.</p>

<h2>Make quoteplus the default register</h2>

<p>If you&rsquo;d like to make it easier to interact with the system clipboard, try out this setting:</p>
<pre class="highlight plaintext">:set clipboard=unnamed
</pre>

<p>That tells Vim to use the system clipboard for all yank, delete, change, and put operations that have no register explicitly specified. In effect, the system clipboard becomes the default register.</p>

<p>Now if I run <code>yy</code> to yank a line, that text appears in the system clipboard.</p>

<p>Beware that with this setting, Vim&rsquo;s <code>x</code> command will write a single character to the system clipboard, overwriting whatever was in there previously. That really irritates me, but being able to use a clipboard history browser makes it bareable.</p>

<h2>Feature support (good then bad)</h2>

<p>For all the examples in this video so far, I&rsquo;ve been using the version of Vim that I have installed locally on my workstation. This version was compiled with support for the clipboard feature:</p>
<pre class="highlight plaintext">:version
... +clipboard ...
</pre>

<p>If I log into a remote machine and launch the version of Vim installed there, you&rsquo;ll see that it doesn&rsquo;t support the clipboard feature:</p>
<pre class="highlight plaintext">:version
... -clipboard ...
</pre>

<p>If I attempt to paste from the plus register:</p>
<pre class="highlight plaintext">:put +
</pre>

<p>Vim raises an error: <em>Invalid register name</em>. That&rsquo;s fine. I&rsquo;m controlling a remote machine. It makes sense that I can&rsquo;t access the system clipboard from my workstation.</p>

<p>But if you get this error from your local version of Vim, then I&rsquo;d encourage you to install a version of Vim with clipboard support, or compile it yourself! It&rsquo;s an essential feature.</p>

      </div>
    </div>

  </section>

  <div class="row">
    <div class="small-12 columns">
      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>

    </div>
  </div>

  


      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  

  </body>
</html>
