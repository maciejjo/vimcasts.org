<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title></title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/app.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/autocomplete.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/style.css" media="screen" rel="stylesheet" type="text/css" />
<link href="/stylesheets/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="transcripts transcripts_42 transcripts_42_en transcripts_42_en_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          <div class="row">
    <div class="small-12 columns">

      
        <h1><a href="/episodes/populating-the-arglist/">Populating the arglist</a></h1>
        <h2>Transcript for episode #42</h2>

        <p>The arglist wouldn&rsquo;t be much use if we had to quit and relaunch Vim every time we wanted to change its contents. In this episode, we&rsquo;ll learn how to set the contents of the arglist using the <code>:args</code> command, which can receive filepaths, globs, or even backtick expressions.</p>


      

      <h1>Populating the arglist</h1>

<p>When launching Vim from the command line, we can supply arguments in a few different ways. The simplest way is to specify one or more filepaths.</p>

<p>In this directory, we&rsquo;ve got 5 text files named A, B, C, D, and E:</p>
<pre class="highlight plaintext">$ ls -l
total 40
-rw-r--r--  1 drew  staff    0 17 Feb 15:40 README
-rw-r--r--  1 drew  staff  544 14 Jan 14:38 a.txt
-rw-r--r--  1 drew  staff  336 14 Jan 14:38 b.txt
-rw-r--r--  1 drew  staff  352 14 Jan 14:38 c.txt
-rw-r--r--  1 drew  staff  352 14 Jan 14:38 d.txt
-rw-r--r--  1 drew  staff  368 14 Jan 14:38 e.txt
</pre>

<p>We could launch Vim specifiying one or more filepaths directly:</p>
<pre class="highlight plaintext">vim a.txt b.txt
</pre>

<p>As you might expect, that populates the arglist with the two specified files:</p>
<pre class="highlight plaintext">:args
[a.txt] b.txt
:q
</pre>

<p>Alternatively, we could supply a wildcard when launching Vim:</p>
<pre class="highlight plaintext">vim *.txt
</pre>

<p>The bash shell expands the wildcard to match all five text files in the current directory, and those five files appear in the arglist when Vim launches.</p>

<h2>Changing the arglist at runtime</h2>

<p>The arglist wouldn&rsquo;t be that much use if it could only be changed by quiting and then relaunching Vim. It turns out that you can change the contents of the arglist at runtime, using the <code>:args</code> command:</p>
<pre class="highlight plaintext">:help :args
</pre>

<p>Remember, it&rsquo;s called the arglist because it starts out containing the list of arguments that were passed to Vim when it was launched from the command line. But the fact that you can change the contents of the list while Vim is running means that the name &lsquo;argument list&rsquo; is a bit of a misnomer. Don&rsquo;t underestimate this feature!</p>

<p>Just as you can pass filepaths and wildcards to Vim on the commandline, you can do the same with the :args command. At the moment, we&rsquo;ve got 5 items in the arglist:</p>
<pre class="highlight plaintext">:args
[a.txt] b.txt c.txt d.txt e.txt
</pre>

<p>We could contract the arglist to reference just two of these buffers by specifying them with the args command:</p>
<pre class="highlight plaintext">:args a.txt b.txt
</pre>

<p>Now the arglist contains only two buffers:</p>
<pre class="highlight plaintext">:args
[a.txt] b.txt
</pre>

<p>Whereas the buffer list still contains all of the files that were specified at launch:</p>
<pre class="highlight plaintext">:ls
...
</pre>

<p>Remember in episode 41, I said that it&rsquo;s useful to think of the arglist as being a subset of the buffer list? Being able to set the contents of the arglist at runtime allows us to define a small working subset of buffers. </p>

<p>We could easily restore the arglist to its previous state with a single command:</p>
<pre class="highlight plaintext">:args *.txt
:args
[a.txt] b.txt c.txt d.txt e.txt
</pre>

<p>As a general rule: anything that you can provide as an argument to the Vim executable at the commandline can also be supplied as an argument to the <code>:args</code> command.</p>

<p>Now let&rsquo;s have a look at a more complex example.</p>

<h2>Using backticks</h2>

<p>This directory contains about 30 markdown files, which correspond to the chapters of my book, Practical Vim. Suppose that we want to open each of these chapters in Vim, we could do so using a wildcard:</p>
<pre class="highlight plaintext">vim *.md
</pre>

<p>That&rsquo;s quick and dirty and it gets the job done, but it lists the chapters in alphabetical order. I&rsquo;d like to have the files listed in the order that they appear in the book, so I&rsquo;ve created a hidden file called <code>.toc</code>. Let&rsquo;s inspect it&rsquo;s contents with the <code>cat</code> command:</p>
<pre class="highlight plaintext">$ cat .toc
</pre>

<p>This file simply mirrors Practical Vim&rsquo;s table of contents.</p>

<p>Now watch this, if we wrap the cat command in backticks, then it will run in a subshell. We can use the output from the subshell as the arguments to launch Vim:</p>
<pre class="highlight plaintext">$ vim `cat .toc`
</pre>

<p>Now the arglist contains all of the chapters in the order that they appear in the table of contents:</p>
<pre class="highlight plaintext">:args
[introduction.md] the_vim_way.md ...
</pre>

<p>Pretty neat!</p>

<p>Earlier on, I stated a general rule that any arguments that can be passed to the Vim executable at the command line can also be supplied to the <code>:args</code> command.  So what about backtick expressions like this one?</p>

<p>Well let&rsquo;s launch Vim again, opening the <code>toc</code> file:</p>
<pre class="highlight plaintext">:q
$ vim .toc
</pre>

<p>That populates the arglist with a single buffer:</p>
<pre class="highlight plaintext">:args
[.toc]
</pre>

<p>We can quickly set the arglist to contain each of the files listed in the table of contents by running &ldquo;args with the cat command in backticks&rdquo;:</p>
<pre class="highlight plaintext">:args `cat .toc`
</pre>

<p>Boom! The backtick expression works just as it does in the shell:</p>
<pre class="highlight plaintext">:args
[introduction.md] the_vim_way.md ...
</pre>

<h2>More ideas for using backtick expressions</h2>

<p>I&rsquo;ve chosen a simple example for demonstration purposes, but we could put anything inside that backtick expression.  So long as the subshell returns a list of filepaths, then Vim will consider it as valid input.  For example, you could use the output of <code>find</code> or <code>grep</code>, or even a shell script of your own.  I&rsquo;m sure that you can think of lots of other possibilities.</p>

    </div>
  </div>


      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  </body>
</html>
