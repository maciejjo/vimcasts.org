<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Use title if it's in the page YAML frontmatter -->
    <title></title>

    
      <meta name="st:robots" content="follow, index">
    

    
      <link href="/feeds/ogg.rss" title="Vimcasts OGG Feed" rel="alternate" type="application/rss+xml" />
    
      <link href="/feeds/quicktime.rss" title="Vimcasts Quicktime Feed" rel="alternate" type="application/rss+xml" />
    

    <link href="/stylesheets/vimcasts.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/javascripts/modernizr.js" type="text/javascript"></script>
  </head>

  <body class="transcripts transcripts_3 transcripts_3_en transcripts_3_en_index" data-swiftype-index='false'>

  <div class="off-canvas-wrap">
    <div class="inner-wrap">

      <div class="top-bar-underlay"></div>

      <div class="row">
        <nav class="top-bar show-for-large-up" data-topbar>
          <ul class="title-area">
            <li class="name">
              <h1><a href="/">Vimcasts</a></h1>
            </li>
            <li class="toggle-topbar menu-icon"><a href="#">Menu</a></li>
          </ul>

          <section class="top-bar-section">

            
              <!-- Right Nav Section -->
              <ul class="right">
                <li class="has-form">
                <div class="row collapse">
                  <div class="large-12 columns">
                    <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


                  </div>
                </div>
                </li>
              </ul>
            

            <!-- Left Nav Section -->
            <ul class="left">
              <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>


            </ul>
          </section>
        </nav>
      </div>

      <nav class="tab-bar hide-for-large-up">
        <section class="left-small">
          <a class="left-off-canvas-toggle menu-icon" ><span></span></a>
        </section>

        <section class="middle tab-bar-section"></section>
      </nav>

      <aside class="left-off-canvas-menu">
        <ul class="off-canvas-list">
          <li><label>Vimcasts</label></li>
          <li class="has-dropdown">
  <a href="/categories">Browse Vimcasts</a>
  <ul class="dropdown">
    <li><a href="/episodes">Latest episodes</a></li>
    <li><a href="/blog">Latest articles</a></li>
  </ul>
</li>
<li><a href="/training">Training</a></li>
<li><a href="/publications">Publications</a></li>



          
            <li>
              <form class="swiftype-search-form">
  <input type="search" class="swiftype-search-input" placeholder="Search the archives"/>
</form>


            </li>
          
        </ul>
      </aside>

      <section class="main-section">

        <div class="row identity-row">
          <div id="logo" class="small-4 columns">
            <h1>
              
                <a href="/" title="Go to Vimcasts.org homepage">VimCasts.org</a>
              
            </h1>
          </div>
          <div class="small-7 small-offset-1 columns">
            
            <h4 class="text-right">
              Level-up your Vim<br/>
              <small>with Drew Neil, author of <a href="http://pragprog.com/book/dnvim/practical-vim">Practical&nbsp;Vim</a></small>
            </h4>
            
          </div>
        </div>

          

  <section class="transcript">
    <div class="title-row">
      <h2 class="title">
        Whitespace preferences and filetypes
      </h2>
      <h2 class="episode_number">
        <small>#</small>3
      </h2>
    </div>

    <div class="pubdate-row">
      <div class="transcript-context">
        This is a transcript of
        <a href="/episodes/whitespace-preferences-and-filetypes/">screencast&nbsp;3</a>.
      </div>
      <time class="pubdate" pubdate="pubdate" datetime="2010-01-17">
        <div class="hide-for-medium-up">Jan&nbsp;17, '10</div><div class="show-for-medium-up">Jan 17, 2010</div>
      </time>
    </div>

    <div class="summary-row">
      <div class="episode_summary enlarged">
        <p>Different file types may require particular whitespace settings. For example, YAML files must be indented using spaces, whereas makefiles require indentation with tabs. These preferences can be specified by hooking into the <code>FileType</code> event with an autocommand.</p>


      </div>
    </div>

    <div class="transcript-row">
      <div class="transcript-body">
      <h1>WHITESPACE PREFERENCES PER FILETYPE</h1>

<h2>Setting tab/space preferences per filetype</h2>

<p>It is sometimes necessary to use different indentation settings for particular types of file.</p>

<p>It might be that the filetype itself is fussy about tabs versus spaces. For example, makefiles should be indented with tab characters, whereas YAML files must be indented with spaces. </p>

<p>Or perhaps you have to follow a &lsquo;house-style&rsquo; which specifies that, say, html and css files be indented with 2 spaces, while javascript is indented with tab characters of width 4.</p>

<p>You can set these preferences in your <code>.vimrc</code> file, by hooking into the <code>FileType</code> event with an autocommand:</p>
<pre class="highlight plaintext">autocmd FileType make setlocal ts=8 sts=8 sw=8 noexpandtab
autocmd FileType yaml setlocal ts=2 sts=2 sw=2 expandtab

autocmd FileType html setlocal ts=2 sts=2 sw=2 expandtab
autocmd FileType css setlocal ts=2 sts=2 sw=2 expandtab
autocmd FileType javascript setlocal ts=4 sts=4 sw=4 noexpandtab
</pre>

<p>This command consists of two parts:</p>
<pre class="highlight plaintext">autocmd FileType javascript
</pre>

<p>The first half indicates that when the filetype is set to javascript, the second half of the command will be executed. The second half</p>
<pre class="highlight plaintext">setlocal ts=4 sts=4 sw=4 noexpandtab
</pre>

<p>calls <code>setlocal</code>, applying the following settings to the current buffer, which in this case contains javascript. Using setlocal ensures that these settings are not altered for any other buffers that happen to be open at the time, and may contain something other than javascript.</p>

<p>This functionality is only available when Vim is compiled with the <code>autocmd</code> flag enabled. You can check if your version of Vim has this capability by running the command:</p>
<pre class="highlight plaintext">:version
</pre>

<p>If you see a minus sign in front of <code>autocmd</code>, then this functionality is not available in your copy of Vim. A plus sign means it is available. You also need to enable filetype detection, by including the following line in your <code>.vimrc</code>:</p>
<pre class="highlight plaintext">filetype on
</pre>

<p>You can test if your version of Vim has been compiled with support for autocommands using a conditional statement:</p>
<pre class="highlight plaintext">if has("audocmd")
  ...
endif
</pre>

<p>By placing all of your autocommands inside this block, you can keep your <code>.vimrc</code> file portable. This means you can load the same <code>.vimrc</code> in a minimal Vim, compiled without the autocmd feature, and it shouldn&rsquo;t raise any errors.</p>

<h3>More on filetypes</h3>

<p>There will be times when you are editing a file, and Vim is unable to guess the filetype. You can find out what the current filetype is, by running:</p>
<pre class="highlight plaintext">:set filetype?
</pre>

<p>or the shorthand:</p>
<pre class="highlight plaintext">:set ft?
</pre>

<p>I would like Vim to treat this RSS file as XML. I can tell it to do so by running:</p>
<pre class="highlight plaintext">:set filetype=xml
"set filetype EQUALS xml"
</pre>

<p>or the dedicated command:</p>
<pre class="highlight plaintext">:setfiletype xml
"one word: setfiletype SPACE xml"
</pre>

<p>You should be able to see the difference, as the syntax highlighting kicks into action.</p>

<h3>Match extensions to filetypes</h3>

<p>To tell Vim to always treat files with the <code>rss</code> extension as XML, I can put the following in my <code>.vimrc</code> file:</p>
<pre class="highlight plaintext">autocmd BufNewFile,BufRead *.rss setfiletype xml
</pre>

<p>The first half</p>
<pre class="highlight plaintext">autocmd BufNewFile,BufRead *.rss
</pre>

<p>indicates that when a new or existing file with the <code>rss</code> extension is opened, the second half of the command will be executed.</p>
<pre class="highlight plaintext">setfiletype xml
</pre>

<p>the second half sets the filetype to xml. </p>

<p>It is possible to specify multiple patterns to be matched when opening a file. Just separate them with a comma. So the autocommand could be tweaked so that it also match atom files. </p>
<pre class="highlight plaintext">autocmd BufNewFile,BufRead *.rss,*.atom setfiletype xml
</pre>

<p>Please note that when I opened the example RSS file in Vim, it automatically set the filetype to XML, even before I added this autocommand to my <code>vimrc</code> file. The example given here is purely for illustrative purposes. </p>

      </div>
    </div>

  </section>

  <div class="row">
    <div class="small-12 columns">
      <div class="row footer">

  <hr/>

  <div class="small-6 columns">
    <ul class="inline-list">
      <li><a href="/about">About</a></li>
      <li><a href="/subscribe">Subscribe</a></li>
      <li><a href="/tipjar">Leave a tip</a></li>
    </ul>
  </div>

  <div class="small-6 columns">
    <p class="text-right">
    Vimcasts.org established MMX
    </p>
  </div>

</div>

    </div>
  </div>

  


      </section>

      <a class="exit-off-canvas"></a>

    </div>
  </div>

  <script src="/javascripts/all.js" type="text/javascript"></script>

  

  </body>
</html>
